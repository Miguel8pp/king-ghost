<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="QuDvebfdKRKhvW8d4UkOUWi1fPEINxUsIQdxXxEc">

        <title>LOGIN</title>

  
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />
        
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <!-- Particles.js -->
        <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

        <!-- Scripts -->
        <link rel="preload" as="style" href="https://socialvirtu.com/build/assets/app-155178dc.css" /><link rel="preload" as="style" href="https://socialvirtu.com/build/assets/app-b6a82ad0.css" /><link rel="modulepreload" href="https://socialvirtu.com/build/assets/app-1bab035d.js" /><link rel="stylesheet" href="https://socialvirtu.com/build/assets/app-155178dc.css" /><link rel="stylesheet" href="https://socialvirtu.com/build/assets/app-b6a82ad0.css" /><script type="module" src="https://socialvirtu.com/build/assets/app-1bab035d.js"></script>    </head>
    <body class="font-sans text-gray-900 dark:text-white antialiased">
        <div class="min-h-screen flex flex-col sm:justify-center items-center px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900 relative">
            <div id="particles-js" class="absolute inset-0 z-0 opacity-50 dark:opacity-100"></div>
            
            <div class="relative z-10 w-full pt-6 sm:pt-0">
                <div class="flex justify-center mb-8">
                    <a href="/" class="flex items-center space-x-2">
                        <img src="../static/img/MIghost.png" 
         alt="GHOST SMM" 
         class="h-8 w-auto">
                        <span class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">
                            GHOST SMM
                        </span>
                    </a>
                </div>

                <div class="w-full sm:max-w-md mx-auto px-6 py-8 bg-white dark:bg-gray-800/50 shadow-xl dark:shadow-gray-800/20 overflow-hidden sm:rounded-lg backdrop-blur-sm relative z-10">
                    <div class="mb-6 sm:mb-8 text-center">
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2">Bienvenido de nuevo</h2>
        <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400">Ingresa a tu cuenta para continuar</p>
    </div>
 <!-- Mostrar mensaje de error o éxito -->
{% with messages = get_flashed_messages() %}
{% if messages %}
    <div id="flash-messages" class="fixed top-4 right-4 z-50 w-full max-w-sm space-y-3">
        {% for message in messages %}
        {% set is_success = 'éxito' in message %}
        <div class="relative flex items-center p-4 pr-10 rounded-lg shadow-md transition-opacity duration-300 ease-in-out opacity-0 translate-y-2
            {{ 'bg-green-50 border-l-4 border-green-400 text-green-800' if is_success else 'bg-red-50 border-l-4 border-red-400 text-red-800' }}
            " role="alert">
            <div class="flex-shrink-0">
                {% if is_success %}
                    <svg class="h-6 w-6 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                {% else %}
                    <svg class="h-6 w-6 text-red-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                    </svg>
                {% endif %}
            </div>
            <div class="ml-3 font-medium flex-grow">{{ message }}</div>
            <button type="button" class="absolute top-2 right-2 text-sm p-1 rounded-full hover:bg-gray-200 transition-colors duration-150" aria-label="Cerrar">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
            </button>
        </div>
        {% endfor %}
    </div>
{% endif %}
{% endwith %}

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const flashMessages = document.querySelectorAll('#flash-messages > div');
        flashMessages.forEach((message, index) => {
            // Animación de entrada
            setTimeout(() => {
                message.classList.remove('opacity-0', 'translate-y-2');
                message.classList.add('opacity-100', 'translate-y-0');
            }, index * 100);

            // Cierre automático después de 5 segundos
            setTimeout(() => {
                message.classList.remove('opacity-100', 'translate-y-0');
                message.classList.add('opacity-0', 'translate-y-2');
                // Eliminar del DOM después de la transición
                setTimeout(() => message.remove(), 300);
            }, 5000 + (index * 500));

            // Cierre manual al hacer clic en el botón
            const closeButton = message.querySelector('button');
            if (closeButton) {
                closeButton.addEventListener('click', () => {
                    message.classList.remove('opacity-100', 'translate-y-0');
                    message.classList.add('opacity-0', 'translate-y-2');
                    setTimeout(() => message.remove(), 300);
                });
            }
        });
    });
</script>
    <!-- Session Status -->
    
   <form method="POST" action="/login" class="space-y-4 sm:space-y-6">
    <input type="hidden" name="_token" value="QuDvebfdKRKhvW8d4UkOUWi1fPEINxUsIQdxXxEc" autocomplete="off">
    <div>
        <label class="block font-medium text-sm text-gray-700 text-gray-900 dark:text-white text-sm sm:text-base" for="email">
            Usuario
        </label>
        <input class="border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm block mt-1.5 w-full text-sm sm:text-base bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-blue-600 dark:focus:border-blue-600 focus:ring-blue-600 dark:focus:ring-blue-600 transition-colors duration-200"  type="text" name="usuario" placeholder="ejemplo333" required>
    </div>

    <div>
        <label class="block font-medium text-sm text-gray-700 text-gray-900 dark:text-white text-sm sm:text-base" for="password">
            Password
        </label>

        <input class="border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm block mt-1.5 w-full text-sm sm:text-base bg-white dark:bg-gray-700/50 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-blue-600 dark:focus:border-blue-600 focus:ring-blue-600 dark:focus:ring-blue-600 transition-colors duration-200" type="password" name="contrasena"  placeholder="••••••••" id="password" required>
    </div>

    <div class="flex items-center justify-between">
        <label for="remember_me" class="inline-flex items-center">
            <input id="remember_me" type="checkbox" name="remember" {% if session.permanent %}checked{% endif %} 
            class="rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700/50 text-blue-600 focus:ring-blue-600 dark:focus:ring-offset-gray-800 transition-colors duration-200" >
            <span class="ml-2 text-sm text-gray-600 dark:text-gray-300">Remember me</span>
        </label>

        <a class="text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-600 transition-colors duration-200" 
            href="/recuperar_contrasena">
            ¿Olvidaste tu contraseña?
        </a>
    </div>

    <div class="mt-6">
        <button type="submit" class="inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150 w-full justify-center bg-blue-600 hover:bg-blue-700/90 active:bg-blue-800 text-white transition-colors duration-200">
            Log in
        </button>
    </div>

    <div class="text-center mt-6">
        <span class="text-sm text-gray-600 dark:text-gray-400">¿No tienes una cuenta? </span>
        <a href="/registro" 
            class="text-sm font-medium text-blue-600 hover:text-blue-700/90 transition-colors duration-200">
            Regístrate
        </a>
    </div>
</form>

        <!-- WhatsApp Button -->
                <a href="https://wa.me/+525654936049" 
           target="_blank"
           class="fixed bottom-4 right-4 bg-[#25D366] text-white rounded-full w-14 h-14 flex items-center justify-center shadow-[4px_4px_10px_rgba(0,0,0,0.5)] hover:shadow-[6px_6px_15px_rgba(0,0,0,0.6)] hover:translate-y-[-2px] transition-all duration-300 z-50">
            <i class="fab fa-whatsapp text-2xl"></i>
        </a>
        
        <script>
            const isDarkMode = document.documentElement.classList.contains('dark');
            
            particlesJS('particles-js', {
                particles: {
                    number: {
                        value: window.innerWidth < 768 ? 40 : 80,
                        density: {
                            enable: true,
                            value_area: 800
                        }
                    },
                    color: {
                        value: isDarkMode ? '#96F92D' : '#96F92D'
                    },
                    shape: {
                        type: 'circle'
                    },
                    opacity: {
                        value: isDarkMode ? 0.5 : 0.3,
                        random: false,
                        animation: {
                            enable: true,
                            speed: 1,
                            opacity_min: isDarkMode ? 0.1 : 0.05,
                            sync: false
                        }
                    },
                    size: {
                        value: window.innerWidth < 768 ? 2 : 3,
                        random: true,
                        animation: {
                            enable: true,
                            speed: 2,
                            size_min: 0.1,
                            sync: false
                        }
                    },
                    line_linked: {
                        enable: true,
                        distance: window.innerWidth < 768 ? 100 : 150,
                        color: isDarkMode ? '#96F92D' : '#96F92D',
                        opacity: isDarkMode ? 0.2 : 0.1,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: window.innerWidth < 768 ? 1.5 : 2,
                        direction: 'none',
                        random: false,
                        straight: false,
                        out_mode: 'out',
                        bounce: false,
                    }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: {
                        onhover: {
                            enable: true,
                            mode: 'grab'
                        },
                        onclick: {
                            enable: true,
                            mode: 'push'
                        },
                        resize: true
                    },
                    modes: {
                        grab: {
                            distance: window.innerWidth < 768 ? 100 : 140,
                            line_linked: {
                                opacity: isDarkMode ? 0.5 : 0.3
                            }
                        },
                        push: {
                            particles_nb: window.innerWidth < 768 ? 2 : 4
                        }
                    }
                },
                retina_detect: true
            });
        </script>
    </body>
</html>